(this.webpackJsonpauction_demo=this.webpackJsonpauction_demo||[]).push([[0],{14:function(_,e,t){},15:function(_,e,t){},16:function(_,e,t){"use strict";t.r(e);var n=t(0),a=t(1),i=t.n(a),r=t(7),s=t.n(r),c=(t(14),t(2)),o=t(3),C=t(5),l=t(4),x=(t(15),t(8)),u=function(_){Object(C.a)(t,_);var e=Object(l.a)(t);function t(_){var n;return Object(c.a)(this,t),(n=e.call(this,_)).state={},n}return Object(o.a)(t,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{}),Object(n.jsx)("div",{id:"myerson",children:Object(n.jsx)(x.a,{})})]})}}]),t}(i.a.Component),O=function(_){_&&_ instanceof Function&&t.e(3).then(t.bind(null,17)).then((function(e){var t=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;t(_),n(_),a(_),i(_),r(_)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(u,{})}),document.getElementById("root")),O()},8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Myerson}));var _Users_andrewliu_Desktop_auction_demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_Users_andrewliu_Desktop_auction_demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_Users_andrewliu_Desktop_auction_demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_Users_andrewliu_Desktop_auction_demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),Canvas,Ctx,Width,Height,MaxX=10,MinX=0,MaxY=10,MinY=0;function XC(_){return(_-MinX)/(MaxX-MinX)*Width}function YC(_){return Height-(_-MinY)/(MaxY-MinY)*Height}function Draw(_,e,t){Canvas.getContext?((Ctx=Canvas.getContext("2d")).clearRect(0,0,Width,Height),MaxY=_(MaxX),DrawAxes(),RenderFunction(_),Shade(_,e,t),LabelAxes()):console.log("ERROR NO CONTEXT")}function XTickDelta(){return 1}function YTickDelta(){return 1}function DrawAxes(){Ctx.save(),Ctx.lineWidth=2,Ctx.beginPath(),Ctx.moveTo(XC(0),YC(0)),Ctx.lineTo(XC(0),YC(MaxY)),Ctx.stroke(),Ctx.beginPath(),Ctx.moveTo(XC(0),YC(0)),Ctx.lineTo(XC(0),YC(MinY)),Ctx.stroke();for(var _=YTickDelta(),e=1;e*_<MaxY;++e)Ctx.beginPath(),Ctx.moveTo(XC(0)-5,YC(e*_)),Ctx.lineTo(XC(0)+5,YC(e*_)),Ctx.stroke();for(_=YTickDelta(),e=1;e*_>MinY;--e)Ctx.beginPath(),Ctx.moveTo(XC(0)-5,YC(e*_)),Ctx.lineTo(XC(0)+5,YC(e*_)),Ctx.stroke();Ctx.beginPath(),Ctx.moveTo(XC(0),YC(0)),Ctx.lineTo(XC(MaxX),YC(0)),Ctx.stroke(),Ctx.beginPath(),Ctx.moveTo(XC(0),YC(0)),Ctx.lineTo(XC(MinX),YC(0)),Ctx.stroke();for(_=XTickDelta(),e=1;e*_<MaxX;++e)Ctx.beginPath(),Ctx.moveTo(XC(e*_),YC(0)-5),Ctx.lineTo(XC(e*_),YC(0)+5),Ctx.stroke();for(_=XTickDelta(),e=1;e*_>MinX;--e)Ctx.beginPath(),Ctx.moveTo(XC(e*_),YC(0)-5),Ctx.lineTo(XC(e*_),YC(0)+5),Ctx.stroke();Ctx.restore()}function LabelAxes(){Ctx.font="15px Arial",Ctx.fillStyle="black",Ctx.textAlign="start",Ctx.fillText(Math.floor(MaxY).toString(),XC(0)+5,YC(MaxY)+12),Ctx.textAlign="center",Ctx.fillText(Math.floor(MaxX).toString(),XC(MaxX)-10,YC(0)-5)}function RenderFunction(_){var e=(MaxX-MinX)/Width,t=!0;Ctx.beginPath();for(var n=0,a=MinX;a<=MaxX;a+=e)n=_(a),t?(Ctx.moveTo(XC(a),YC(n)),t=!1):Ctx.lineTo(XC(a),YC(n));Ctx.stroke()}function Shade(_,e,t){var n=Math.floor(t/3),a=t%3,i=0;if(i=0==a?e:1==a?e+(MaxX-e)/2:e/2,0==n){var r=_(i);Ctx.beginPath(),Ctx.moveTo(XC(0),YC(0)),Ctx.lineTo(XC(e),YC(0)),Ctx.lineTo(XC(e),YC(r)),Ctx.lineTo(XC(0),YC(r)),Ctx.lineTo(XC(0),YC(0)),Ctx.fillStyle="blue"}else if(1==n){var s=(MaxX-MinX)/Width,c=!0;Ctx.beginPath();r=0;for(var o=MinX;o<=i;o+=s)r=_(o),c?(Ctx.moveTo(XC(o),YC(r)),c=!1):Ctx.lineTo(XC(o),YC(r));Ctx.lineTo(XC(0),YC(r)),Ctx.lineTo(XC(0),YC(0)),Ctx.fillStyle="red"}else{var C=Math.min(i,e);s=(MaxX-MinX)/Width,c=!0;Ctx.beginPath();for(r=0,o=MinX;o<=C;o+=s)r=_(o),c?(Ctx.moveTo(XC(o),YC(r)),c=!1):Ctx.lineTo(XC(o),YC(r));if(Ctx.lineTo(XC(o),YC(0)),Ctx.lineTo(XC(0),YC(0)),Ctx.fillStyle="green",Ctx.globalCompositeOperation="destination-over",Ctx.fill(),i<e)Ctx.beginPath(),Ctx.moveTo(XC(o),YC(0)),Ctx.lineTo(XC(o),YC(r)),Ctx.lineTo(XC(e),YC(r)),Ctx.lineTo(XC(e),YC(0)),Ctx.moveTo(XC(o),YC(0));else if(i>e){Ctx.beginPath(),Ctx.moveTo(XC(o),YC(r));for(o=o+s;o<=i;o+=s)r=_(o),Ctx.lineTo(XC(o),YC(r));Ctx.lineTo(XC(e),YC(r)),Ctx.lineTo(XC(e),YC(_(e))),Ctx.fillStyle="red"}}Ctx.globalCompositeOperation="destination-over",Ctx.fill()}function derivative(_){return function(e){var t=(MaxX-MinX)/(Width*Width);return 0==e?0:_(e)-_(e-t)}}function P(_){return function(e){for(var t=(MaxX-MinX)/(Width*Width),n=0,a=derivative(_),i=0;i<=e;i+=t)n+=i*a(i);return n}}function DrawPayment(_){if(Canvas.getContext){(Ctx=Canvas.getContext("2d")).clearRect(0,0,Width,Height);var e=P(_);MaxY=e(MaxX),DrawAxes(),RenderFunction(e),LabelAxes()}else console.log("ERROR NO CONTEXT")}var Myerson=function(_React$Component){Object(_Users_andrewliu_Desktop_auction_demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(Myerson,_React$Component);var _super=Object(_Users_andrewliu_Desktop_auction_demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(Myerson);function Myerson(props){var _this;return Object(_Users_andrewliu_Desktop_auction_demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Myerson),_this=_super.call(this,props),_this.handleChange=function(_){_this.setState({formValue:_.target.value})},_this.handleChange2=function(_){_this.setState({maxX:_.target.value})},_this.handleSubmit=function(_){var e=Number(_this.state.formValue),t=Number(_this.state.maxX);isNaN(e)||isNaN(t)||_this.setState({v:e,maxXval:t},(function(){MaxX=t,_this.draw(e)})),_.preventDefault()},_this.draw=function(v){for(var X=eval(_this.refs.function_code.value),i=0;i<_this.canvases.length;i++)Canvas=_this.canvases[i],Width=Canvas.width,Height=Canvas.height,Draw(X,v,i);Canvas=_this.plot,Width=Canvas.width,Height=Canvas.height,DrawPayment(X)},_this.state={v:MaxX/2,formValue:(MaxX/2).toString(),maxX:"10",maxXval:10},_this}return Object(_Users_andrewliu_Desktop_auction_demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Myerson,[{key:"componentDidMount",value:function(){this.canvases=[this.refs.canvas1,this.refs.canvas2,this.refs.canvas3,this.refs.canvas4,this.refs.canvas5,this.refs.canvas6,this.refs.canvas7,this.refs.canvas8,this.refs.canvas9],this.plot=this.refs.plot}},{key:"render",value:function(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"Enter a monotone (non-decreasing!) allocation function using valid Javascript Syntax:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("textarea",{ref:"function_code",rows:"5",cols:"40",children:"(b) => { \n  //linear:\n  return b;\n  //single-item auction:\n  //var B = 4;\n  //return (b > B ? 1 : 0);\n};"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{style:{margin:0},children:"Maximum bid:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",style:{marginLeft:10,marginRight:10},value:this.state.maxX,onChange:this.handleChange2}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{style:{margin:0},children:"Valuation v:"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",style:{marginLeft:10,marginRight:10},value:this.state.formValue,onChange:this.handleChange}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"submit",value:"plot!"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Plots of b vs x(b) (visual proof of Myerson's Lemma)"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{id:"flex",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{id:"column"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{id:"column",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"b = v = "+this.state.v})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{id:"column",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"b = "+(this.state.v+(this.state.maxXval-this.state.v)/2)+" > v"})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{id:"column",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"b = "+this.state.v/2+" < v"})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{id:"column"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:"Social Surplus = v * x(b)"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{id:"output",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas1",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas2",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas3",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:"Payment = p(b)"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{id:"output",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas4",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas5",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas6",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h2",{children:"Utility = v * x(b) - p(b) = SS - P (red is negative utility)"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{id:"output",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas7",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas8",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"canvas9",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Plot of Payment Function, b vs p(b)"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("canvas",{ref:"plot",className:"plot",children:"CANVAS NOT SUPPORTED IN THIS BROWSER!"})]})}}]),Myerson}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component)}},[[16,1,2]]]);
//# sourceMappingURL=main.27849998.chunk.js.map