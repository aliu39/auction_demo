{"version":3,"sources":["App.js","reportWebVitals.js","index.js","components/Myerson.js"],"names":["App","props","state","id","Myerson","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","Canvas","Ctx","Width","Height","MaxX","MinX","MaxY","MinY","XC","x","YC","y","Draw","F","v","i","getContext","clearRect","DrawAxes","RenderFunction","Shade","LabelAxes","console","log","XTickDelta","YTickDelta","save","lineWidth","beginPath","moveTo","lineTo","stroke","delta","restore","font","fillStyle","textAlign","fillText","Math","floor","toString","f","XSTEP","first","row","col","b","limit","min","globalCompositeOperation","fill","derivative","dz","P","sum","dxdz","z","DrawPayment","handleChange","event","setState","formValue","target","value","handleChange2","maxX","handleSubmit","n","Number","isNaN","maxXval","draw","preventDefault","X","eval","refs","function_code","canvases","length","width","height","plot","this","canvas1","canvas2","canvas3","canvas4","canvas5","canvas6","canvas7","canvas8","canvas9","ref","rows","cols","onSubmit","style","margin","type","marginLeft","marginRight","onChange","className"],"mappings":"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","file":"static/js/main.5b4b606a.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport Myerson from \"./components/Myerson\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div>\n        <header></header>\n        <div id=\"myerson\">\n          <Myerson />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// SAMPLE ALLOCATION RULES:\n\n// SINGLE-ITEM AUCTION (VICKREY)\n// (b) => {\n//   var B = 4;\n//   return (b > B ? 1 : 0);\n// };\n\n// SPONSORED SEARCH (PIECE-WISE ALLOCATION)\n// (b) => {\n//   var xs = [2, 3, 7, 10]; //values of x representing piece-wise portions\n//   var bs = [1, 4, 6, 9]; //increasing values of b at which x changes\n//   var idx = -1;\n//   for (var i in bs) {\n//     if (b > bs[i]) {\n//       idx++;\n//     }\n//   }\n//   if (idx < 0) {\n//     return 0;\n//   } else {\n//     return xs[idx];\n//   }\n// };\n\nimport React from \"react\";\n\n/* HELPERS */\n/* http://matt.might.net/articles/rendering-mathematical-functions-in-javascript-with-canvas-html/ */\n\n/* Canvas and context objects */\n\nvar Canvas;\nvar Ctx;\n\nvar Width;\nvar Height;\n\n// Returns the right boundary of the logical viewport:\nvar MaxX = 10;\n\n// Returns the left boundary of the logical viewport:\nvar MinX = 0;\n\n// Returns the top boundary of the logical viewport:\nvar MaxY = 10;\n\n// Returns the bottom boundary of the logical viewport:\nvar MinY = 0;\n\n// Returns the physical x-coordinate of a logical x-coordinate:\nfunction XC(x) {\n  return ((x - MinX) / (MaxX - MinX)) * Width;\n}\n\n// Returns the physical y-coordinate of a logical y-coordinate:\nfunction YC(y) {\n  return Height - ((y - MinY) / (MaxY - MinY)) * Height;\n}\n\n/* Rendering functions */\n\n// Clears the canvas, draws the axes.\nfunction Draw(F, v, i) {\n  if (Canvas.getContext) {\n    // Set up the canvas:\n    Ctx = Canvas.getContext(\"2d\");\n    Ctx.clearRect(0, 0, Width, Height);\n\n    // Adjust MaxY\n    MaxY = F(MaxX);\n\n    // Draw:\n    DrawAxes();\n    RenderFunction(F);\n    Shade(F, v, i);\n    LabelAxes();\n  } else {\n    console.log(\"ERROR NO CONTEXT\");\n    // Do nothing.\n  }\n}\n\n// Returns the distance between ticks on the X axis:\nfunction XTickDelta() {\n  return 1;\n}\n\n// Returns the distance between ticks on the Y axis:\nfunction YTickDelta() {\n  return 1;\n}\n\n// DrawAxes draws the X ad Y axes, with tick marks.\nfunction DrawAxes() {\n  Ctx.save();\n  Ctx.lineWidth = 2;\n  // +Y axis\n  Ctx.beginPath();\n  Ctx.moveTo(XC(0), YC(0));\n  Ctx.lineTo(XC(0), YC(MaxY));\n  Ctx.stroke();\n\n  // -Y axis\n  Ctx.beginPath();\n  Ctx.moveTo(XC(0), YC(0));\n  Ctx.lineTo(XC(0), YC(MinY));\n  Ctx.stroke();\n\n  // Y axis tick marks\n  var delta = YTickDelta();\n  for (var i = 1; i * delta < MaxY; ++i) {\n    Ctx.beginPath();\n    Ctx.moveTo(XC(0) - 5, YC(i * delta));\n    Ctx.lineTo(XC(0) + 5, YC(i * delta));\n    Ctx.stroke();\n  }\n\n  var delta = YTickDelta();\n  for (var i = 1; i * delta > MinY; --i) {\n    Ctx.beginPath();\n    Ctx.moveTo(XC(0) - 5, YC(i * delta));\n    Ctx.lineTo(XC(0) + 5, YC(i * delta));\n    Ctx.stroke();\n  }\n\n  // +X axis\n  Ctx.beginPath();\n  Ctx.moveTo(XC(0), YC(0));\n  Ctx.lineTo(XC(MaxX), YC(0));\n  Ctx.stroke();\n\n  // -X axis\n  Ctx.beginPath();\n  Ctx.moveTo(XC(0), YC(0));\n  Ctx.lineTo(XC(MinX), YC(0));\n  Ctx.stroke();\n\n  // X tick marks\n  var delta = XTickDelta();\n  for (var i = 1; i * delta < MaxX; ++i) {\n    Ctx.beginPath();\n    Ctx.moveTo(XC(i * delta), YC(0) - 5);\n    Ctx.lineTo(XC(i * delta), YC(0) + 5);\n    Ctx.stroke();\n  }\n\n  var delta = XTickDelta();\n  for (var i = 1; i * delta > MinX; --i) {\n    Ctx.beginPath();\n    Ctx.moveTo(XC(i * delta), YC(0) - 5);\n    Ctx.lineTo(XC(i * delta), YC(0) + 5);\n    Ctx.stroke();\n  }\n  Ctx.restore();\n}\n\nfunction LabelAxes() {\n  Ctx.font = \"15px Arial\";\n  Ctx.fillStyle = \"black\";\n  Ctx.textAlign = \"start\";\n  Ctx.fillText(Math.floor(MaxY).toString(), XC(0) + 5, YC(MaxY) + 12);\n  Ctx.textAlign = \"center\";\n  Ctx.fillText(Math.floor(MaxX).toString(), XC(MaxX) - 10, YC(0) - 5);\n}\n\n// RenderFunction(f) renders the input funtion f on the canvas.\nfunction RenderFunction(f) {\n  // When rendering, XSTEP determines the horizontal distance between points:\n  var XSTEP = (MaxX - MinX) / Width;\n\n  var first = true;\n\n  Ctx.beginPath();\n  var y = 0;\n  for (var x = MinX; x <= MaxX; x += XSTEP) {\n    y = f(x);\n    if (first) {\n      Ctx.moveTo(XC(x), YC(y));\n      first = false;\n    } else {\n      Ctx.lineTo(XC(x), YC(y));\n    }\n  }\n  Ctx.stroke();\n}\n\nfunction Shade(f, v, i) {\n  var row = Math.floor(i / 3);\n  var col = i % 3;\n\n  var b = 0;\n  if (col == 0) {\n    b = v;\n  } else if (col == 1) {\n    b = v + (MaxX - v) / 2;\n  } else {\n    b = v / 2;\n  }\n\n  if (row == 0) {\n    // social surplus: v * x(b)\n    var y = f(b);\n    Ctx.beginPath();\n    Ctx.moveTo(XC(0), YC(0));\n    Ctx.lineTo(XC(v), YC(0));\n    Ctx.lineTo(XC(v), YC(y));\n    Ctx.lineTo(XC(0), YC(y));\n    Ctx.lineTo(XC(0), YC(0));\n    Ctx.fillStyle = \"blue\";\n  } else if (row == 1) {\n    // p(v) = area above curve, from 0 to b\n    var XSTEP = (MaxX - MinX) / Width;\n    var first = true;\n    Ctx.beginPath();\n    var y = 0;\n    for (var x = MinX; x <= b; x += XSTEP) {\n      y = f(x);\n      if (first) {\n        Ctx.moveTo(XC(x), YC(y));\n        first = false;\n      } else {\n        Ctx.lineTo(XC(x), YC(y));\n      }\n    }\n    Ctx.lineTo(XC(0), YC(y));\n    Ctx.lineTo(XC(0), YC(0));\n    Ctx.fillStyle = \"red\";\n  } else {\n    // utility = ss - p\n    var limit = Math.min(b, v);\n\n    // part of utility is area under curve up to min(b, v)\n    var XSTEP = (MaxX - MinX) / Width;\n    var first = true;\n    Ctx.beginPath();\n    var y = 0;\n    for (var x = MinX; x <= limit; x += XSTEP) {\n      y = f(x);\n      if (first) {\n        Ctx.moveTo(XC(x), YC(y));\n        first = false;\n      } else {\n        Ctx.lineTo(XC(x), YC(y));\n      }\n    }\n    Ctx.lineTo(XC(x), YC(0));\n    Ctx.lineTo(XC(0), YC(0));\n    Ctx.fillStyle = \"green\";\n    Ctx.globalCompositeOperation = \"destination-over\";\n    Ctx.fill();\n\n    if (b < v) {\n      Ctx.beginPath();\n      Ctx.moveTo(XC(x), YC(0));\n      Ctx.lineTo(XC(x), YC(y));\n      Ctx.lineTo(XC(v), YC(y));\n      Ctx.lineTo(XC(v), YC(0));\n      Ctx.moveTo(XC(x), YC(0));\n    } else if (b > v) {\n      Ctx.beginPath();\n      Ctx.moveTo(XC(x), YC(y));\n      for (var x = x + XSTEP; x <= b; x += XSTEP) {\n        y = f(x);\n        Ctx.lineTo(XC(x), YC(y));\n      }\n      Ctx.lineTo(XC(v), YC(y));\n      Ctx.lineTo(XC(v), YC(f(v)));\n      Ctx.fillStyle = \"red\";\n    }\n  }\n  Ctx.globalCompositeOperation = \"destination-over\";\n  Ctx.fill();\n}\n\nfunction derivative(x) {\n  return b => {\n    var dz = (MaxX - MinX) / (Width * Width);\n    if (b == 0) return 0;\n    else return x(b) - x(b - dz);\n  };\n}\n\nfunction P(x) {\n  return b => {\n    //computes integral as a discrete sum with small dz value\n    var dz = (MaxX - MinX) / (Width * Width);\n    var sum = 0;\n    var dxdz = derivative(x);\n    for (var z = 0; z <= b; z += dz) {\n      sum += z * dxdz(z);\n    }\n    return sum;\n  };\n}\n\nfunction DrawPayment(x) {\n  if (Canvas.getContext) {\n    // Set up the canvas:\n    Ctx = Canvas.getContext(\"2d\");\n    Ctx.clearRect(0, 0, Width, Height);\n\n    // Get payment function from x\n    var F = P(x);\n\n    // Adjust MaxY\n    MaxY = F(MaxX);\n\n    // Draw:\n    DrawAxes();\n    RenderFunction(F);\n    LabelAxes();\n  } else {\n    console.log(\"ERROR NO CONTEXT\");\n    // Do nothing.\n  }\n}\n\nexport default class Myerson extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      v: MaxX / 2,\n      formValue: (MaxX / 2).toString(),\n      maxX: \"10\",\n      maxXval: 10\n    };\n  }\n\n  componentDidMount() {\n    this.canvases = [\n      this.refs.canvas1,\n      this.refs.canvas2,\n      this.refs.canvas3,\n      this.refs.canvas4,\n      this.refs.canvas5,\n      this.refs.canvas6,\n      this.refs.canvas7,\n      this.refs.canvas8,\n      this.refs.canvas9\n    ];\n    this.plot = this.refs.plot;\n  }\n\n  handleChange = event => {\n    this.setState({ formValue: event.target.value });\n  };\n\n  handleChange2 = event => {\n    this.setState({ maxX: event.target.value });\n  };\n\n  handleSubmit = event => {\n    var n = Number(this.state.formValue);\n    var x = Number(this.state.maxX);\n    if (!isNaN(n) && !isNaN(x)) {\n      this.setState(\n        {\n          v: n,\n          maxXval: x\n        },\n        () => {\n          MaxX = x;\n          this.draw(n);\n        }\n      );\n    }\n    event.preventDefault();\n  };\n\n  draw = v => {\n    // Draw:\n    var X = eval(this.refs.function_code.value);\n\n    for (var i = 0; i < this.canvases.length; i++) {\n      Canvas = this.canvases[i];\n      Width = Canvas.width;\n      Height = Canvas.height;\n      Draw(X, v, i);\n    }\n\n    Canvas = this.plot;\n    Width = Canvas.width;\n    Height = Canvas.height;\n    DrawPayment(X);\n  };\n\n  render() {\n    return (\n      <div>\n        <p>\n          Enter a monotone (non-decreasing!) allocation function using valid\n          Javascript Syntax:\n        </p>\n        <textarea ref=\"function_code\" rows=\"5\" cols=\"40\">\n          {\"(b) => {\\n  return b;\\n};\"}\n        </textarea>\n        <form onSubmit={this.handleSubmit}>\n          <h2 style={{ margin: 0 }}>Maximum bid:</h2>\n          <input\n            type=\"text\"\n            style={{ marginLeft: 10, marginRight: 10 }}\n            value={this.state.maxX}\n            onChange={this.handleChange2}\n          ></input>\n          <br />\n          <h2 style={{ margin: 0 }}>Valuation v:</h2>\n          <input\n            type=\"text\"\n            style={{ marginLeft: 10, marginRight: 10 }}\n            value={this.state.formValue}\n            onChange={this.handleChange}\n          ></input>\n          <br />\n          <input type=\"submit\" value=\"plot!\"></input>\n        </form>\n        <p>\n          <b>Plots of b vs x(b) (visual proof of Myerson's Lemma)</b>\n        </p>\n\n        <div id=\"flex\">\n          <div id=\"column\"></div>\n          <div id=\"column\">\n            <h2>\n              <b>{\"b = v = \" + this.state.v}</b>\n            </h2>\n          </div>\n          <div id=\"column\">\n            <h2>\n              <b>\n                {\"b = \" +\n                  (this.state.v + (this.state.maxXval - this.state.v) / 2) +\n                  \" > v\"}\n              </b>\n            </h2>\n          </div>\n          <div id=\"column\">\n            <h2>\n              <b>{\"b = \" + this.state.v / 2 + \" < v\"}</b>\n            </h2>\n          </div>\n          <div id=\"column\"></div>\n        </div>\n        <h2>Social Surplus = v * x(b)</h2>\n        <div id=\"output\">\n          <canvas ref=\"canvas1\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n\n          <canvas ref=\"canvas2\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n\n          <canvas ref=\"canvas3\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n        </div>\n        <h2>Payment = p(b)</h2>\n        <div id=\"output\">\n          <canvas ref=\"canvas4\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n          <canvas ref=\"canvas5\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n          <canvas ref=\"canvas6\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n        </div>\n        <h2>Utility = v * x(b) - p(b) = SS - P (red is negative utility)</h2>\n        <div id=\"output\">\n          <canvas ref=\"canvas7\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n\n          <canvas ref=\"canvas8\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n\n          <canvas ref=\"canvas9\">CANVAS NOT SUPPORTED IN THIS BROWSER!</canvas>\n        </div>\n        <br />\n        {/* <img src=></img> */}\n        <p>\n          <b>Plot of Payment Function, b vs p(b)</b>\n        </p>\n        <canvas ref=\"plot\" className=\"plot\">\n          CANVAS NOT SUPPORTED IN THIS BROWSER!\n        </canvas>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}